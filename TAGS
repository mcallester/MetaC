
closures.mc,507
expptr wrap_body(5,163
expptr install_vars(13,480
umacro{closure_type(closure_type21,776
umacro{umacro21,776
umacro{closure_typeexp(closure_typeexp28,988
umacro{umacro28,988
umacro{closure_typedef(closure_typedef31,1142
umacro{umacro31,1142
  return `{typedef closure_typeexp($typename:$typename32,1196
umacro{apply_closure(apply_closure39,1371
umacro{umacro39,1371
umacro{lambda lambda43,1478
umacro{umacro43,1478
  expptr pname 44,1567
  expptr cname 45,1606
  expptr f 46,1641

expandB.mc,17
int main(15,234

expandC.mc,17
int main(15,234

expandD.mc,17
int main(15,234

expandF.mc,17
int main(15,234

file-expressions-test-file.mc,35
int f(3,6
int g(5,33
int h(7,63

include_test.mc,21
expptr included(1,0

mcB.mc,235
void ucase_error(8,185
void ucase_rule_error(12,289
void match_failure(16,402
expptr ucase_macro(25,642
expptr casecode1(39,1073
expptr casecode2(53,1580
expptr casecode3(72,2299
expptr casecode4(78,2511
void mcB_init(99,3325

mcC.mc,138
expptr init_form_macro(3,17
expptr umacro_macro(9,145
expptr init_form_body(26,628
expptr init_fun_macro(33,808
void mcC_init(39,960

mcD.mc,795
int undostack_freeptr;3,17
void restart_event(5,41
int occurs_in_exp(22,651
int occurs_in_explist(34,1024
umacro{catch_all{catch_all39,1182
umacro{unwind_protect{unwind_protect54,1627
umacro{declare_exception(declare_exception58,1731
umacro{umacro58,1731
void declare_except_fun(63,1857
umacro{throw(throw69,2115
umacro{umacro69,2115
umacro{catch(catch90,2629
umacro{umacro90,2629
  expptr argtype 91,2673
  expptr valvar 105,3029
umacro{explist_push(explist_push120,3468
umacro{umacro120,3468
umacro{explist_pushnew(explist_pushnew124,3544
umacro{umacro124,3544
umacro{explist_do(explist_do131,3714
umacro{umacro131,3714
  expptr yval 133,3823
umacro{sformat(sformat150,4422
umacro{umacro150,4422
umacro{mcprint(mcprint159,4624
umacro{umacro159,4624

mcE.mc,1422
void expptr_error(6,180
void expptr_breakpt(10,267
expptr combine_atoms(14,359
explist file_preamble;20,514
explist procedures;21,585
explist arrays;22,605
explist new_body_procedures;24,622
explist new_sig_procedures;25,651
explist new_arrays;26,679
explist doit_statements;27,699
explist new_preambles;28,724
explist current_forms;29,747
int compilecount;31,771
int cellcount;32,789
int symbol_index_freeptr 51,1320
int symbol_index(53,1351
voidptr symbol_value[symbol_value61,1531
void install_value(63,1572
void install_values(69,1777
void NIDE_init(75,1940
expptr new_procedure_insertion 123,3735
expptr new_array_insertion 129,3888
expptr array_extraction 136,4136
expptr strip_type(141,4291
expptr args_variables(149,4547
void install_link_def(157,4764
void install_link_def_sparsely(174,5210
expptr eval_exp(201,6179
expptr simple_eval(213,6563
void load_check(222,6860
expptr eval_internal(244,7545
void write_signature(318,10130
void write_signature_sparsely(326,10401
expptr explist_exp(335,10676
expptr left_atom(340,10783
void preinstall(345,10894
void print_preamble(372,12054
void check_signature(378,12208
void preinstall_array(387,12479
void preinstall_proc(397,12796
expptr symbol_index_exp(414,13377
void install_proc_def(418,13454
void comp_error(428,13689
voidptr compile_load_file(436,13836
char *strip_quotes(strip_quotes455,14411
void NIDE(467,14666

mcF.mc,282
explist file_preamble;3,17
explist procedures;4,88
explist arrays;5,108
void install_preamble(52,1375
void install_array(58,1520
void install_procedure(64,1655
void install_base(70,1798
umacro{install_value_properties(install_value_properties84,2244
umacro{umacro84,2244

mcG.mc,2480
umacro{mention(mention13,505
umacro{umacro13,505
umacro{in_memory_frame{in_memory_frame16,560
umacro{in_undo_frame{in_undo_frame26,732
umacro{int_from_undo_frame(int_from_undo_frame36,896
umacro{umacro36,896
umacro{stackexp_from_undo_frame(stackexp_from_undo_frame51,1160
umacro{umacro51,1160
umacro {declare_pointer(declare_pointer73,1795
umacro 73,1795
  return `{typedef struct ${$74,1832
  return `{typedef struct ${combine_atoms(combine_atoms74,1832
  return `{typedef struct ${combine_atoms(typename, `struct)} * $typename}$typename74,1832
void add_list_forms(77,1913
umacro{deflists(deflists162,4675
umacro{umacro162,4675
expptr semi_first(171,4982
expptr semi_rest(180,5115
expptr semi_cons(191,5285
expptr semi_append(196,5369
umacro{semi_iter(semi_iter203,5526
umacro{umacro203,5526
  expptr yval 204,5559
umacro{semi_map(semi_map215,5765
umacro{umacro215,5765
expptr comma_first(229,6075
expptr comma_rest(240,6241
int comma_length(251,6439
expptr comma_cons(265,6766
expptr comma_append(270,6846
umacro{comma_iter(comma_iter277,7007
umacro{umacro277,7007
  expptr yval 278,7041
umacro{comma_map(comma_map289,7248
umacro{umacro289,7248
expptr wrap_body(306,7730
expptr install_vars(314,8047
umacro{closure_type(closure_type322,8348
umacro{umacro322,8348
umacro{closure_typeexp(closure_typeexp329,8560
umacro{umacro329,8560
umacro{closure_typedef(closure_typedef332,8714
umacro{umacro332,8714
  return `{typedef closure_typeexp($typename:$typename333,8768
umacro{apply_closure(apply_closure340,8943
umacro{umacro340,8943
umacro{lambda lambda344,9050
umacro{umacro344,9050
  expptr pname 345,9139
  expptr cname 346,9178
  expptr f 347,9213
umacro{parse_comma(parse_comma400,10767
umacro{umacro400,10767
  expptr comvar 401,10821
  expptr fvar 402,10858
  expptr rvar 403,10886
umacro{comma_iter(comma_iter414,11143
umacro{umacro414,11143
  expptr restvar 415,11185
  expptr nextrest 416,11219
umacro{parse_semi(parse_semi425,11415
umacro{umacro425,11415
  expptr semvar 426,11468
  expptr fvar 427,11504
  expptr rvar 428,11532
umacro{semi_iter(semi_iter440,11790
umacro{umacro440,11790
  expptr restvar 441,11830
  expptr nextrest 442,11864
umacro{parse_space(parse_space451,12058
umacro{umacro451,12058
  expptr spacevar 454,12188
umacro{space_iter(space_iter469,12530
umacro{umacro469,12530
  expptr restvar 470,12572
  expptr nextrest 471,12606

NIDE-examples.mc,571
expptr f(3,16
f(5,51
for(int i = 0; i < 10; i++)x[x11,74
int_exp(15,167
typedef struct myexpstruct{myexpstruct22,262
  char * label;23,290
  struct myexpstruct * car;24,306
  struct myexpstruct * cdr;25,334
} myexpstruct, *myexp;myexp26,362
myexp mycons(28,386
expptr myexp_exp(35,562
myexp_exp(40,715
int height[height54,850
`{My friend ${friend[0]} is ${$56,870
g(63,967
g(67,1014
expptr bar(77,1114
foo(81,1183
umacro{mydolist(mydolist91,1271
foo(87,1261
     expptr rest 92,1304
int numeralp(106,1628
int value(114,1800
int_exp(123,2008

NIDE.mc,81
voidptr symbol_value[symbol_value15,253
void IDE_loop(19,314
int main(46,787

objects1.mc,110
umacro{pushprop(pushprop9,224
umacro{umacro9,224
umacro{class_dim(class_dim18,511
umacro{umacro18,511

objects2.mc,1581
umacro{defclass{defclass3,76
umacro{umacro3,76
typedef struct object_struct{object_struct11,350
typedef struct object_struct{int class_index;11,350
typedef struct object_struct{int class_index;} * object;11,350
expptr class_ivars(17,486
int class_index(23,654
void add_class_forms(29,821
  add_form(`{typedef struct $structname 36,1353
  add_form(`{typedef struct $structname{$complete_ivars} $structname, * $class;39,1497
int class_counter[class_counter43,1657
expptr class_name[class_name45,1684
class_name[class_name47,1717
for(int i = 1; i<class_dim(); i++){class_name[class_name49,1743
expptr classof(51,1803
umacro{declare_subclass(declare_subclass59,2091
umacro{umacro59,2091
void install_class(66,2259
void add_superclass(81,2787
void check_subclass(88,3035
expptr init_ivars(101,3530
umacro{new(new108,3726
umacro{umacro108,3726
expptr strip_var(130,4450
expptr strip_vars(137,4573
umacro{declare_method{declare_method146,4776
umacro{umacro146,4776
expptr method_table_name(151,4899
void add_declare_method_forms(157,5055
void install_method_name(170,5590
voidptrptr method_table(177,5846
void copy_methods(183,6046
umacro{defmethod{defmethod216,7558
umacro{umacro216,7558
void add_defmethod_forms2(223,7740
void add_defmethod_forms(236,8268
int is_subclass(243,8589
void check_method(250,8793
void install_method_ptr(269,9717
expptr localize_ivars(281,10199
expptr method_type(294,10545
expptr method_expansion(302,10776
expptr leftmost_atom(341,12333
expptr infer_type(347,12482
expptr add_coercions(362,12998

REPL.mc,82
voidptr symbol_value[symbol_value15,253
void REPL_loop(21,349
int main(40,765

temp.mc,11
ucase(1,0

testA.mc,18
expptr foo(18,89

testB.mc,29
ucase(3,17
expptr foo(5,66

testC.mc,67
umacro{declare_exception(declare_exception1,0
umacro{umacro1,0

tests.mc,1559
string_atom(9,389
f(22,732
for(int i = 0; i < 10; i++)x[x30,930
int_exp(32,968
typedef struct myexpstruct{myexpstruct50,1460
  char * label;51,1488
  struct myexpstruct * car;52,1504
  struct myexpstruct * cdr;53,1532
} myexpstruct, *myexp;myexp54,1560
myexp mycons(56,1584
expptr myexp_exp(63,1761
myexp_exp(68,1914
int height[height83,2220
`{My friend ${friend[0]} is ${$85,2240
expptr g2(98,2544
g2(100,2579
g2(104,2625
e[e118,2886
void g(120,2896
expptr foo(132,3130
expptr bar(136,3199
foo(140,3268
foo(146,3346
umacro{mydolist(mydolist156,3540
     expptr rest 157,3573
ucase(`{a;b}){{$a;$a172,4046
int numeralp(178,4249
int value(186,4421
int_exp(195,4639
barf(206,4890
foobar(214,5095
goo(223,5393
typedef struct myexpstruct{myexpstruct231,5662
  char * label;232,5690
  myexp car;233,5706
  struct myexpstruct * cdr;234,5719
} myexpstruct, *myexp;myexp235,5747
goop(247,6079
int y[y258,6354
expptr e[e264,6576
e[e266,6590
notype bad(275,6887
int bad(278,6945
int_exp(280,6972
expptr friend[friend290,7209
umacro{test2(test2298,7500
umacro{umacro298,7500
test2(301,7591
umacro{foo2(foo2315,7939
umacro{bar2(bar2322,8051
foo2(319,8015
bar2(326,8128
getprop(344,8551
expptr foo4(362,9010
expptr foo3(364,9037
umacro{mention(mention378,9650
foo3(366,9064
expptr bar5(387,9789
bar5(393,9883
void catch_ex1_b(407,10215
void foothrow(415,10309
void catch_test_throw(417,10341
void catch_test3(428,10483
void foo5(436,10582
void catch_test4(440,10618
explist_exp(459,10982

mcA.c,6672
int in_ide_proc(6,255
void throw_primitive(8,324
void throw_NIDE(16,513
void cbreak(24,710
void send_ready(28,791
void send_emacs_tag(37,1191
void send_print_tag(45,1554
void berror(49,1668
void send_result(59,1917
void breakpt(64,2064
#define PERM_HEAP_DIM 75,2433
char perm_heap[perm_heap76,2463
int perm_heap_freeptr;77,2500
void * perm_alloc(79,2524
char * string_hash_table[string_hash_table89,2795
int string_count;90,2932
int string_key(92,2951
int intern_string(109,3272
int undo_heap_freeptr;131,4015
void * undo_alloc(133,4039
int undo_heap_freeptr_fun(141,4268
typedef struct undopair_int{undopair_int144,4327
  int * location;145,4356
  int oldval;146,4374
}undopair_int;undopair_int147,4388
#define UNDO_TRAIL_INT_DIM 149,4404
undopair_int undo_trail_int[undo_trail_int150,4442
int undo_trail_int_freeptr;151,4491
void undo_set_int_proc(153,4520
typedef struct undopair{undopair161,4783
  void * * location;162,4808
  void * oldval;163,4829
}undopair;undopair164,4846
#define UNDO_TRAIL_DIM 166,4858
undopair undo_trail[undo_trail167,4892
int undo_trail_freeptr;168,4929
void undo_set_proc(170,4954
int * undone_integer[undone_integer178,5190
int undoneint_freeptr;179,5217
void add_undone_int(181,5241
void** undone_pointer[undone_pointer186,5387
int undoneptr_freeptr;187,5415
void add_undone_pointer(189,5439
typedef struct undo_frame{undo_frame194,5593
  int undo_trail_freeptr;195,5620
  int undo_trail_int_freeptr;196,5646
}undo_frame;undo_frame197,5676
#define UNDOSTACK_DIM 199,5690
undo_frame undo_stack[undo_stack200,5720
int undostack_freeptr;201,5758
int undo_checkpoint;202,5781
void save_undones(204,5803
void push_undo_frame(215,6353
void clear_undo_frame(224,6746
void pop_undo_frame(240,7392
void init_undo1(246,7533
#define UNDOEXP_HASH_DIM 275,8183
expptr undoexp_hash_table[undoexp_hash_table276,8219
int undoexp_count;277,8270
expptr intern_exp(279,8290
expptr intern_index_exp(301,9104
void init_undo_memory(315,9627
plistptr exp_plist(337,10030
plistptr getprop_cell(341,10150
void * getprop(347,10301
void addprop(354,10537
void setprop(363,10813
int getprop_int(370,11056
void addprop_int(378,11308
void setprop_int(388,11613
#define STACKHEAP_DIM 403,12118
char stackheap[stackheap404,12148
int stackheap_freeptr;405,12179
void * stack_alloc(407,12203
int in_stackheap(416,12452
int stackheap_allocatedp(420,12564
#define STACK_DIM 424,12688
int stackmem_stack[stackmem_stack425,12717
int stack_frame_freeptr;426,12748
void init_stack_memory(428,12774
void push_memory_frame(433,12855
void pop_memory_frame(438,13023
expptr stack_exp(443,13192
expptr expptr_to_stack(456,13624
expptr expptr_to_undo(462,13835
expptr clean_undo_frame(468,14052
int quotecharp(480,14441
int alphap(482,14498
int connp(489,14633
int whitep(496,14930
int closep(498,14993
int openp(500,15055
char close_for(502,15117
int endp(510,15312
int terminatorp(512,15361
int specialcharp(514,15416
int precedence(516,15485
int atomp(541,16284
int symbolp(543,16341
int connectorp(547,16435
int white_connectorp(553,16571
int specialp(559,16701
char * atom_string(563,16802
expptr string_atom(568,16976
void ephemeral_putc(572,17080
expptr cons(578,17243
int cellp(581,17308
expptr car(583,17365
expptr cdr(587,17476
expptr intern_paren(593,17597
int parenp(596,17689
char open_char(598,17747
expptr paren_inside(600,17797
expptr mk_connection(608,18043
int connectionp(612,18170
int connofp(616,18265
expptr connector(618,18349
expptr leftarg(622,18404
expptr rightarg(626,18457
explist expcons(636,18724
explist explist_append(643,18904
explist explist_reverse(648,19034
int explist_member(656,19176
explist explist_mapcar(662,19311
void explist_mapc(667,19452
int explist_length(673,19560
typedef struct read_stream_struct{read_stream_struct688,20039
  FILE* stream;689,20074
  char readchar;690,20090
  char next;691,20107
  }read_stream_struct, *mc_read_stream;mc_read_stream692,20120
mc_read_stream input_stream;694,20161
void init_input_stream(696,20191
void init_read_stream(703,20364
void addchar(709,20552
expptr read_from_NIDE(714,20689
int cell_endp(728,21097
expptr read_from_file(735,21284
explist file_expressions(749,21738
void simple_advance(768,22400
void advance_char(778,22712
char* pps;809,24120
int pprest;810,24153
void movechar(812,24197
void remove_white(818,24351
void declare_unmatched(824,24441
expptr mcread(850,25126
int right_precedence(864,25521
expptr mcread_Ep(869,25632
expptr mcread_arg(886,26113
expptr mcread_conn(900,26517
expptr mcread_alpha(909,26758
expptr mcread_open(918,26980
expptr mcread_quote(932,27333
expptr mcread_dollar(952,27903
expptr mcread_backslash(956,28009
expptr mcread_backquote(960,28122
expptr mkspace(965,28251
expptr mcread_open_sequence(968,28338
expptr mcread_alpha_phrase(977,28527
expptr mcread_alpha_or_open(985,28695
expptr mcread_backquote_phrase(991,28802
expptr mcread_dollar_seq(999,28978
expptr mcread_dollar_phrase(1009,29263
char lastchar;1027,29836
void paddchar(1029,29909
char * exp_string(1037,30085
void putstring(1047,30272
void putexp(1052,30357
char * exp_string_safe(1077,31140
void putexp_safe(1085,31290
int current_indent;1113,32138
int newline_indent;1114,32158
expptr newline_connector;1115,32178
void paddchar_pretty(1118,32235
void putstring_pretty(1123,32303
char * exp_pps(1128,32402
void add_newline(1140,32637
int exp_length(1146,32764
void putexp_pretty(1155,33029
void set_macro(1221,34778
expptr head_symbol 1225,34864
expptr macroexpand1(1232,35002
expptr macroexpand2(1241,35199
expptr reparse(1252,35524
expptr macroexpand(1259,35650
expptr bquote_macro(1271,35963
int quotep(1287,36470
expptr bqcode(1292,36568
expptr bqcode_ignore_dollar(1302,36838
expptr atom_code(1316,37250
expptr quote_symbol(1320,37369
expptr quote_quote(1326,37572
expptr connection_code(1340,38011
expptr mkspace_code(1349,38299
expptr quote_connection(1354,38475
expptr paren_code(1363,38728
expptr quote_char(1370,38934
expptr quote_paren(1375,39046
expptr dollar_code(1381,39162
void add_init_form(1399,39912
void add_preamble(1405,40133
void add_form(1413,40437
expptr int_exp(1419,40669
int exp_int(1425,40843
expptr pointer_exp(1430,40961
expptr gensym(1435,41071
FILE * fileout;1451,41660
void mcexpand(1454,41711
void write_preamble(1465,42113
void pprint(1472,42319
void mcpprint(1476,42386
void restart_undo_frame(1481,42498
void init_source(1496,42976
void init_tags(1502,43043
void init_exp_constants(1516,43787
void mcA_init(1540,44276

base_decls.h,1205
typedef char * charptr;1,0
typedef int * intptr;3,25
typedef void * voidptr;5,48
typedef voidptr * voidptrptr;7,73
typedef FILE * FILEptr;9,104
typedef struct pliststruct{pliststruct11,129
  void * key;12,157
  struct expstruct * data;13,171
  struct pliststruct * rest;14,198
}pliststruct,*plist;plist15,227
typedef struct expstruct{expstruct17,249
  plist data;18,275
  void * extension;19,289
  char constructor;20,309
  struct expstruct * arg1;21,329
  struct expstruct * arg2;22,356
}expstruct,*expptr;expptr23,383
int catch_freeptr[catch_freeptr36,867
jmp_buf catch_stack[catch_stack37,889
voidptrptr stack;143,4012
voidptr previous_heap_boundary[previous_heap_boundary148,4083
int catch_freeptr[catch_freeptr174,4636
jmp_buf catch_stack[catch_stack175,4658
expptr catch_name[catch_name176,4690
expptr catch_type[catch_type177,4712
voidptr catch_val[catch_val178,4734
char undo_heap[undo_heap179,4756
typedef struct explist_struct * explist;188,4994
typedef struct explist_struct{explist_struct190,5036
  expptr first;191,5067
  explist rest;192,5083
  explist rest;}explist_struct, *explist;explist192,5083
int break_on_throw[break_on_throw208,5383

mc.h,2508
typedef char * charptr;3,24
typedef void * voidptr;4,48
typedef struct pliststruct{pliststruct6,73
  void * key;7,101
  void * value;8,115
  struct pliststruct * rest;9,131
}pliststruct,*plistptr;plistptr10,160
typedef struct expstruct{expstruct12,185
  plistptr plist;13,228
  void * extension;14,246
  char constructor;15,266
  struct expstruct * arg1;16,286
  struct expstruct * arg2;17,313
}expstruct,*expptr;expptr18,340
void* previous_heap_boundary[previous_heap_boundary41,1044
#define EPHEMERAL_DIM 57,1515
char ephemeral_buffer[ephemeral_buffer58,1545
int ephemeral_freeptr;59,1583
static inline char constructor(116,2714
FILE * fileout;152,3960
FILE * filein;153,3976
typedef struct explist_struct * explist;155,3992
typedef struct explist_struct{explist_struct157,4034
  expptr first;158,4065
  explist rest;159,4081
  explist rest;}explist_struct, *explist;explist159,4081
explist preamble;181,4672
explist init_forms;184,4720
FILE * writestrm;210,5378
int rep_column;229,5756
expptr comma,236,5950
expptr comma, colon,236,5950
expptr comma, colon, semi,236,5950
expptr comma, colon, semi, backquote,236,5950
expptr comma, colon, semi, backquote, dollar,236,5950
expptr comma, colon, semi, backquote, dollar, backslash;236,5950
expptr exclam,237,6007
expptr exclam, question,237,6007
expptr exclam, question, any,237,6007
expptr exclam, question, any, dot;237,6007
expptr nil,238,6042
expptr nil, macro,238,6042
expptr nil, macro, intern_noticers,238,6042
expptr nil, macro, intern_noticers, space,238,6042
expptr nil, macro, intern_noticers, space, tab;238,6042
char leftbrace,240,6091
char leftbrace, leftparen,240,6091
char leftbrace, leftparen, leftbracket;240,6091
int in_doit;249,6448
int in_ide;250,6461
int in_repl;251,6473
char *  ignore_tag;253,6487
char *  result_tag;254,6507
char *  uncaught_throw_tag;255,6527
char *  reader_error_tag;256,6555
char *  expansion_error_tag;257,6581
char *  comp_error_tag;258,6610
char *  exec_error_tag;259,6634
char *  breakpoint_tag;260,6658
char *  continue_from_gdb_tag;261,6682
char * print_tag;262,6713
char * mc_ready_tag;263,6731
char * MetaC_directory;278,6968
int catch_freeptr[catch_freeptr289,7172
jmp_buf catch_stack[catch_stack290,7194
expptr catch_name[catch_name291,7226
expptr catch_type[catch_type292,7248
voidptr catch_val[catch_val293,7270
char undo_heap[undo_heap294,7292
FILE * read_stream;304,7555
int break_on_throw[break_on_throw316,7751

premacros.h,190
#define STRING_DIM 21,587
#define CATCH_DIM 23,616
#define UNDO_HEAP_DIM 25,640
#define catch_check(27,671
#define precatch(29,764
#define undo_set(31,920
#define undo_set_int(33,995

testD.mc,0
